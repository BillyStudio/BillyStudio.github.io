<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head><meta name="generator" content="Hexo 3.9.0">
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
<title>Advanced MySQL and Database Optimization - Shane&#39;s Blog</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<!-- <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css"> -->
<link rel="stylesheet" href="/css/outdatedbrowser.min.css">


<link href="/zh-cn/2021-Mar-27th-MySQL-Query-and-Optimization/" rel="alternate" hreflang="zh-CN">
    






    <meta name="description" content="This article mainly helps to deepen the understanding of MySQL and optimize database performance in large data scenarios based on the foundation of learning MySQL basics.">
<meta name="keywords" content="MySQL,SQL">
<meta property="og:type" content="article">
<meta property="og:title" content="Advanced MySQL and Database Optimization">
<meta property="og:url" content="https://BillyStudio.github.io/2021-Mar-27th-MySQL-Query-and-Optimization/index.html">
<meta property="og:site_name" content="Shane&#39;s Blog">
<meta property="og:description" content="This article mainly helps to deepen the understanding of MySQL and optimize database performance in large data scenarios based on the foundation of learning MySQL basics.">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://billystudio.github.io/2021-Mar-27th-MySQL-Query-and-Optimization/mysql-architecture.png">
<meta property="og:image" content="https://billystudio.github.io/2021-Mar-27th-MySQL-Query-and-Optimization/20160717221315263.jpeg">
<meta property="og:updated_time" content="2025-05-22T16:09:54.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Advanced MySQL and Database Optimization">
<meta name="twitter:description" content="This article mainly helps to deepen the understanding of MySQL and optimize database performance in large data scenarios based on the foundation of learning MySQL basics.">
<meta name="twitter:image" content="https://billystudio.github.io/2021-Mar-27th-MySQL-Query-and-Optimization/mysql-architecture.png">





<link rel="icon" href="/favicon.png">


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro">
<!-- <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css"> -->
<link rel="stylesheet" href="/css/bulma.min.css">


<!-- <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css"> -->
<link rel="stylesheet" href="/css/lightgallery.min.css">
<!-- <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/css/justifiedGallery.min.css"> -->
<link rel="stylesheet" href="/css/justifiedGallery.min.css">


<!-- <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css"> -->
<link rel="stylesheet" href="/css/atom-one-light.min.css">

<link rel="stylesheet" href="/css/style.css">

<script defer src="//use.fontawesome.com/releases/v5.0.8/js/all.js"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->


    
    

    
    
    
    

    
    

    
    

    


</head>
<body>
    
<!-- hexo-inject:begin --><!-- hexo-inject:end --><nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/">
                
                <img src="/images/logo.png" alt height="28">
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-start">
            
            <a class="navbar-item " href="/categories">Categories</a>
            
            <a class="navbar-item " href="/tags">Tags</a>
            
            <a class="navbar-item " href="/about">About</a>
            
        </div>
        
        <div class="navbar-menu navbar-end">
            
            <a class="navbar-item search" title="Search" href="javascript:;">
                <i class="fas fa-search"></i>
            </a>
            
            
            <div class="navbar-item is-hoverable has-dropdown is-hidden-mobile is-hidden-tablet-only toc">
                <a class="navbar-item" title="Table of Contents">
                    <i class="fa fa-list"></i>
                </a>
                <div class="navbar-dropdown is-right">
                    
                    
                    
                    
                    <a class="navbar-item" href="#MySQL-Architecture">1.1&nbsp;&nbsp;MySQL Architecture</a>
                    
                    
                    
                    <a class="navbar-item" href="#Engine-Layer">1.1.1&nbsp;&nbsp;Engine Layer</a>
                    
                    
                    
                    <a class="navbar-item" href="#MySQL-Cache">1.1.2&nbsp;&nbsp;MySQL Cache</a>
                    
                    
                    
                    <a class="navbar-item" href="#redo-log-和-bin-log">1.2&nbsp;&nbsp;redo.log 和 bin.log</a>
                    
                    
                    
                    <a class="navbar-item" href="#Execution-Process-of-an-Update-Statement">1.3&nbsp;&nbsp;Execution Process of an Update Statement</a>
                    
                    
                    
                    <a class="navbar-item" href="#Transactions">1.4&nbsp;&nbsp;## Transactions</a>
                    
                    
                    
                    <a class="navbar-item" href="#MySQL-Transaction-Execution-Process">1.5&nbsp;&nbsp;MySQL Transaction Execution Process</a>
                    
                    
                    
                    <a class="navbar-item" href="#Two-Phase-Commit-of-Redo-Logs">1.5.1&nbsp;&nbsp;Two-Phase Commit of Redo Logs</a>
                    
                    
                    
                    <a class="navbar-item" href="#Concurrent-Consistency-Issues">1.5.2&nbsp;&nbsp;Concurrent Consistency Issues:</a>
                    
                    
                    
                    <a class="navbar-item" href="#MVCC-（Multi-Version-Concurrency-Control）">1.6&nbsp;&nbsp;MVCC （Multi-Version Concurrency Control）</a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#Indexes">2&nbsp;&nbsp;<b>Indexes</b></a>
                    
                    
                    
                    <a class="navbar-item" href="#Advantages-and-Disadvantages-of-Indexes">2.1.1&nbsp;&nbsp;Advantages and Disadvantages of Indexes</a>
                    
                    
                    
                    <a class="navbar-item" href="#Reasons-Why-Indexes-Are-Slow">2.1.2&nbsp;&nbsp;Reasons Why Indexes Are Slow</a>
                    
                    
                    
                    <a class="navbar-item" href="#Clustered-Indexes-and-Non-Clustered-Indexes">2.1.3&nbsp;&nbsp;Clustered Indexes and Non-Clustered Indexes</a>
                    
                    
                    
                    <a class="navbar-item" href="#Index-Matching">2.2&nbsp;&nbsp;Index Matching</a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#Large-Table-Optimization">3&nbsp;&nbsp;<b># Large Table Optimization</b></a>
                    
                    
                    
                    <a class="navbar-item" href="#Database-Logical-Design-Three-Normal-Forms">3.1.1&nbsp;&nbsp;Database Logical Design Three Normal Forms:</a>
                    
                    
                    
                    <a class="navbar-item" href="#Optimization-Object-Data-tables">3.2&nbsp;&nbsp;### Optimization Object: Data tables</a>
                    
                    
                    
                    <a class="navbar-item" href="#Vertical-and-Horizontal-Partitioning-of-Databases-and-Tables">3.3&nbsp;&nbsp;Vertical and Horizontal Partitioning of Databases and Tables</a>
                    
                    
                    
                    <a class="navbar-item" href="#Problems-Brought-by-Sharding-Databases-and-Tables">3.3.1&nbsp;&nbsp;Problems Brought by Sharding Databases and Tables</a>
                    
                </div>
            </div>
            
            
            <a class="navbar-item" title="GitHub" href="https://github.com/ppoffice/hexo-theme-minos">
                
                <i class="fab fa-github"></i>
                
            </a>
               
            
	    
<div class="column is-narrow has-text-centered">
    <div class="dropdown is-up is-right is-hoverable" style="margin-top: -0.2em;">
        <div class="dropdown-trigger">
            <button class="button is-small" aria-haspopup="true" aria-controls="dropdown-menu7">
                <span class="icon">
                    <i class="fas fa-globe"></i>
                </span>
                <span>English</span>
                <span class="icon is-small">
            <i class="fas fa-angle-down" aria-hidden="true"></i>
          </span>
            </button>
        </div>
        <div class="dropdown-menu has-text-left" role="menu" style="top:100%">
            <div class="dropdown-content">
            
                <a href="/2021-Mar-27th-MySQL-Query-and-Optimization/" class="dropdown-item">
                    English
                </a>
            
                <a href="/zh-cn/2021-Mar-27th-MySQL-Query-and-Optimization/" class="dropdown-item">
                    简体中文
                </a>
            
            </div>
        </div>
    </div>
</div>


        </div>
    </div>
</nav>

    <section class="section">
    <div class="container">
    <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            Advanced MySQL and Database Optimization
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            
                <time datetime="2021-03-27T06:44:24.000Z" itemprop="datePublished">Mar 27 2021</time>
            
        </span>
        
        
        <span class="column is-narrow">
            
            
            9 minutes read (About 1331 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <p>This article mainly helps to deepen the understanding of MySQL and optimize database performance in large data scenarios based on the foundation of learning MySQL basics. <a id="more"></a></p>
<h2 id="MySQL-Architecture"><a href="#MySQL-Architecture" class="headerlink" title="MySQL Architecture"></a>MySQL Architecture</h2><p><img src="mysql-architecture.png" alt="mysql-architecture.png"><br>The design of MySQL reflects the idea of layered architecture, and can be divided from top to bottom as follows:</p>
<ol>
<li>Connection Layer: Includes various connectors and MySQL shell.</li>
<li>Service Layer: SQL interface, parser, optimizer, cache, etc.</li>
<li>Engine Layer: Includes storage engines such as InnoDB and MyISAM.</li>
<li>Storage Layer: Handles interactions with disks and log files.</li>
</ol>
<h3 id="Engine-Layer"><a href="#Engine-Layer" class="headerlink" title="Engine Layer"></a>Engine Layer</h3><p>Differences between InnoDB and MyISAM:</p>
<ol>
<li>InnoDB is designed for handling large datasets and high concurrency, while MyISAM focuses on performance.</li>
<li>InnoDB supports row-level locking, transactions, and foreign keys, whereas MyISAM only supports table-level locking.</li>
<li>InnoDB uses clustered indexes, while MyISAM uses non-clustered indexes as the following <a href="### Clustered Indexes and Non-Clustered Indexes">content</a> shows.</li>
<li>The MyISAM storage engine supports spatial data indexes (R-Tree), which can be used for geographic data storage.</li>
</ol>
<h3 id="MySQL-Cache"><a href="#MySQL-Cache" class="headerlink" title="MySQL Cache"></a>MySQL Cache</h3><p>The smallest unit of interaction between MySQL and disk is a page (default 1 page = 16KB).<br>The default size of the memory pool (Buffer Pool) is 128MB.<br>Thus, the default number of pages in the memory pool can be calculated as 128M / 16KB = 8172.</p>
<h2 id="redo-log-&#x548C;-bin-log"><a href="#redo-log-&#x548C;-bin-log" class="headerlink" title="redo.log &#x548C; bin.log"></a>redo.log &#x548C; bin.log</h2><p>The redo log is the log at the InnoDB storage engine layer, while the binlog is the log recorded at the MySQL server layer. These two logs have some overlapping content (different formats).  They can be used to recover data after a MySQL crash and restart.</p>
<h2 id="Execution-Process-of-an-Update-Statement"><a href="#Execution-Process-of-an-Update-Statement" class="headerlink" title="Execution Process of an Update Statement"></a>Execution Process of an Update Statement</h2><ol>
<li>Modify buffer (generate dirty pages).</li>
<li>Generate corresponding redo.log and bin.log (log-ahead principle).</li>
<li>Persist redo.log and bin.log.</li>
<li>Return modification success.</li>
</ol>
<h2 id="Transactions"><a href="#Transactions" class="headerlink" title="## Transactions"></a>## Transactions</h2><p>Transactions refer to a set of operations that satisfy the ACID properties (Atomicity, Consistency, Isolation, Durability). A transaction can be committed using <code>COMMIT</code>, or rolled back using <code>ROLLBACK</code>.</p>
<h2 id="MySQL-Transaction-Execution-Process"><a href="#MySQL-Transaction-Execution-Process" class="headerlink" title="MySQL Transaction Execution Process"></a>MySQL Transaction Execution Process</h2><ol>
<li>Start transaction.</li>
<li>Apply for lock resources, place exclusive lock on row with id=2.</li>
<li>Read the data pages to be modified into innodb_buffer_cache.</li>
<li>Record the data with id=2 into the undo log.</li>
<li>Record the modified data with id=2 into the redo log buffer.</li>
<li>Change the name of id=2 in the buffer cache to &#x201C;test&#x201D;.</li>
<li>Commit, trigger two-phase commit (2PC).</li>
<li>End transaction.</li>
</ol>
<h3 id="Two-Phase-Commit-of-Redo-Logs"><a href="#Two-Phase-Commit-of-Redo-Logs" class="headerlink" title="Two-Phase Commit of Redo Logs"></a>Two-Phase Commit of Redo Logs</h3><p>The writing of redo logs is split into two steps: prepare and commit. This is called &#x201C;two-phase commit.&#x201D;<br>It mainly ensures that the order of redo log transactions matches the order of binlog transactions (ensured by transaction IDs).  </p>
<ol>
<li>Prepare phase: Persist redo to disk (redo group commit), and set the rollback segment to prepared status. Binlog does not perform any operations during this phase.  </li>
<li>Commit phase: InnoDB releases locks, releases rollback segments, sets the redo log commit status, persists binlog to disk, and then commits at the storage engine layer.<br>In simple terms, after executing an update statement, first set the redo log status to prepared, and then set it to committed after the update content is written to binlog.</li>
</ol>
<p>Redo log persistence strategy configuration:<br>=0: Do not persist immediately upon transaction commit; instead, let background processes handle it.<br>=1: &#x2026;Persist immediately.<br>=2: &#x2026;Immediately hand over to operating system cache.</p>
<h3 id="Concurrent-Consistency-Issues"><a href="#Concurrent-Consistency-Issues" class="headerlink" title="Concurrent Consistency Issues:"></a>Concurrent Consistency Issues:</h3><ol>
<li>Lost updates.</li>
<li>Dirty reads.</li>
<li>Non-repeatable reads.</li>
<li>Phantom reads.</li>
</ol>
<p>The following table shows the concurrent consistency issues that difference isolation levels can solve:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>Lost updates</th>
<th>Dirty reads</th>
<th>Non-repeatable reads</th>
<th>Phantom reads</th>
</tr>
</thead>
<tbody>
<tr>
<td>Read Uncommited</td>
<td>&#x274C;</td>
<td>&#x274C;</td>
<td>&#x274C;</td>
<td>&#x274C;</td>
</tr>
<tr>
<td>Read Commited</td>
<td>&#x274C;</td>
<td>&#x2705;</td>
<td>&#x274C;</td>
<td>&#x274C;</td>
</tr>
<tr>
<td>Repeatable Read</td>
<td>&#x274C;</td>
<td>&#x2705;</td>
<td>&#x2705;</td>
<td>&#x274C;</td>
</tr>
<tr>
<td>Serialization</td>
<td>&#x2705;</td>
<td>&#x2705;</td>
<td>&#x2705;</td>
<td>&#x2705;</td>
</tr>
</tbody>
</table>
</div>
<h2 id="MVCC-&#xFF08;Multi-Version-Concurrency-Control&#xFF09;"><a href="#MVCC-&#xFF08;Multi-Version-Concurrency-Control&#xFF09;" class="headerlink" title="MVCC &#xFF08;Multi-Version Concurrency Control&#xFF09;"></a>MVCC &#xFF08;Multi-Version Concurrency Control&#xFF09;</h2><p>Under the Read Uncommitted mode: The transaction connection list can change.<br>Under the Repeatable Read mode: The pointer to the transaction connection list remains fixed.</p>
<h1 id="Indexes"><a href="#Indexes" class="headerlink" title="Indexes"></a>Indexes</h1><p>Explanation: A sorted data structure for fast lookup.</p>
<p>There are two ways to add indexes (index) to a data table:</p>
<ol>
<li><code>CREATE INDEX</code></li>
<li><code>ALTER TABLE</code>  </li>
</ol>
<p>Indexes also exist on disk and need to be loaded into memory for retrieval when required.</p>
<h3 id="Advantages-and-Disadvantages-of-Indexes"><a href="#Advantages-and-Disadvantages-of-Indexes" class="headerlink" title="Advantages and Disadvantages of Indexes"></a>Advantages and Disadvantages of Indexes</h3><p>Advantages: Speed up query and sorting.<br>Disadvantages: Creating an index duplicates pointers to table data, which slows down insertion and update speeds.</p>
<h3 id="Reasons-Why-Indexes-Are-Slow"><a href="#Reasons-Why-Indexes-Are-Slow" class="headerlink" title="Reasons Why Indexes Are Slow"></a>Reasons Why Indexes Are Slow</h3><ol>
<li>Poorly written query statements.</li>
<li>Indexes become ineffective.</li>
<li>Too many join queries.</li>
</ol>
<h3 id="Clustered-Indexes-and-Non-Clustered-Indexes"><a href="#Clustered-Indexes-and-Non-Clustered-Indexes" class="headerlink" title="Clustered Indexes and Non-Clustered Indexes"></a>Clustered Indexes and Non-Clustered Indexes</h3><p><img src="20160717221315263.jpeg" alt="20160717221315263.jpeg"><br>Clustered indexes have data nodes as their leaf nodes, while non-clustered indexes still have index nodes, but they point to corresponding data blocks.<br>Generally, the primary key will automatically create a clustered index, and a table allows only one clustered index.</p>
<h2 id="Index-Matching"><a href="#Index-Matching" class="headerlink" title="Index Matching"></a>Index Matching</h2><p>Best Left Prefix Principle</p>
<h1 id="Large-Table-Optimization"><a href="#Large-Table-Optimization" class="headerlink" title="# Large Table Optimization"></a># Large Table Optimization</h1><h3 id="Database-Logical-Design-Three-Normal-Forms"><a href="#Database-Logical-Design-Three-Normal-Forms" class="headerlink" title="Database Logical Design Three Normal Forms:"></a>Database Logical Design Three Normal Forms:</h3><p>1NF: Requires attributes to be atomic.<br>2NF: Requires records to have unique identifiers, i.e., no partial dependencies.<br>In 2NF, non-primary attributes must fully depend on primary attributes.<br>3NF: No field can be derived from other fields, no field redundancy, i.e., no transitive dependencies.</p>
<p>Each normal form necessarily satisfies the previous normal form. There are also BCNF and 4NF.<br>If there are cases where key fields determine key fields, it does not meet BCNF.</p>
<h2 id="Optimization-Object-Data-tables"><a href="#Optimization-Object-Data-tables" class="headerlink" title="### Optimization Object: Data tables"></a>### Optimization Object: Data tables</h2><p>Based on business types, data is generally divided into three categories:</p>
<ol>
<li>Flow-type data.</li>
<li>Stateful data: Multiple business data depend on stateful data, and the correctness of this data must be ensured. For example, when making a payment or recharge, the original balance must be obtained to ensure successful payment.</li>
<li>Configuration-type data.</li>
</ol>
<p>Depending on the type of data, the optimization way also varies. Here is a summary:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">Data Growth Situation</th>
<th style="text-align:right">Table Type</th>
<th style="text-align:center">Business Characteristics</th>
<th style="text-align:left">Optimization Core Idea</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Millions of records relatively stable data volume</td>
<td style="text-align:right">Status table</td>
<td style="text-align:center">OLTP business direction</td>
<td style="text-align:left">Don&#x2019;t split if possible; horizontally scale read demand</td>
</tr>
<tr>
<td style="text-align:left">Millions of records may reach billions or even higher</td>
<td style="text-align:right">Flow table</td>
<td style="text-align:center">OLTP business historical data</td>
<td style="text-align:left">Business splitting, distributed storage design</td>
</tr>
<tr>
<td style="text-align:left">Millions of records may reach billions or even higher</td>
<td style="text-align:right">Flow table</td>
<td style="text-align:center">OLTP business statistical data source</td>
<td style="text-align:left">Design distributed expansion for statistical data needs</td>
</tr>
<tr>
<td style="text-align:left">Millions of records shouldn&#x2019;t have so much data</td>
<td style="text-align:right">Configuration table</td>
<td style="text-align:center">General business</td>
<td style="text-align:left">Small and concise, avoid monolithic</td>
</tr>
</tbody>
</table>
</div>
<h2 id="Vertical-and-Horizontal-Partitioning-of-Databases-and-Tables"><a href="#Vertical-and-Horizontal-Partitioning-of-Databases-and-Tables" class="headerlink" title="Vertical and Horizontal Partitioning of Databases and Tables"></a>Vertical and Horizontal Partitioning of Databases and Tables</h2><p>Vertical partitioning splits a table with many columns into multiple tables.<br>General partitioning principles:</p>
<ol>
<li>Place less commonly used fields in a separate table.</li>
<li>Split out text, blob, and other large fields into sub-tables.</li>
<li>Place frequently combined query columns in the same table.</li>
</ol>
<p>Horizontal partitioning refers to the splitting of rows in a data table. When the number of rows exceeds 2 million, performance decreases. At this point, the data from one table can be split into multiple tables.<br>Some partitioning principles:</p>
<ol>
<li>Modulo partitioning: For example, a user table with 4 million records can be split into four tables to improve query efficiency.</li>
<li>Part of the business logic can also be split by region, year, and other fields.</li>
</ol>
<h3 id="Problems-Brought-by-Sharding-Databases-and-Tables"><a href="#Problems-Brought-by-Sharding-Databases-and-Tables" class="headerlink" title="Problems Brought by Sharding Databases and Tables"></a>Problems Brought by Sharding Databases and Tables</h3><ol>
<li>Transaction consistency issues, leading to distributed transactions.</li>
<li>Cross-node join queries.</li>
<li>Cross-node pagination, sorting functions.</li>
<li>Primary key duplication: Consider using global primary keys.</li>
<li>Common tables (parameter tables, data dictionary tables) need to be saved in each database, and all updates to common tables need to be executed multiple times.</li>
</ol>
<p>References:<br>1&#x3001;MySQL&#x5B98;&#x7F51;&#x7ED3;&#x6784;&#x56FE;&#xFF1A; <a href="https://dev.mysql.com/doc/refman/8.0/en/pluggable-storage-overview.html" target="_blank" rel="noopener">https://dev.mysql.com/doc/refman/8.0/en/pluggable-storage-overview.html</a><br>2&#x3001;MySQL&#x5343;&#x4E07;&#x7EA7;&#x5927;&#x8868;&#x4F18;&#x5316;&#xFF0C;&#x770B;&#x8FD9;&#x4E00;&#x7BC7;&#x5C31;&#x5FD8;&#x4E0D;&#x6389;&#x4E86;!&#xFF1A; <a href="https://database.51cto.com/art/202002/610289.htm" target="_blank" rel="noopener">https://database.51cto.com/art/202002/610289.htm</a><br>3&#x3001;&#x8868;&#x7684;&#x5782;&#x76F4;&#x62C6;&#x5206;&#x548C;&#x6C34;&#x5E73;&#x62C6;&#x5206;&#xFF1A;<a href="https://www.kancloud.cn/thinkphp/mysql-design-optimalize/39326" target="_blank" rel="noopener">https://www.kancloud.cn/thinkphp/mysql-design-optimalize/39326</a><br>4&#x3001;MYSQL&#x7D22;&#x5F15;&#xFF1A;&#x5BF9;&#x805A;&#x7C07;&#x7D22;&#x5F15;&#x548C;&#x975E;&#x805A;&#x7C07;&#x7D22;&#x5F15;&#x7684;&#x8BA4;&#x8BC6;&#xFF1A;<a href="https://blog.csdn.net/alexdamiao/article/details/51934917#:~:text=%E8%81%9A%E7%B0%87%E7%B4%A2%E5%BC%95%E6%98%AF%E5%AF%B9,%E5%AD%98%E5%9C%A8%E4%B8%80%E4%B8%AA%E8%81%9A%E7%B0%87%E7%B4%A2%E5%BC%95%E3%80%82" target="_blank" rel="noopener">https://blog.csdn.net/alexdamiao/article/details/51934917#:~:text=%E8%81%9A%E7%B0%87%E7%B4%A2%E5%BC%95%E6%98%AF%E5%AF%B9,%E5%AD%98%E5%9C%A8%E4%B8%80%E4%B8%AA%E8%81%9A%E7%B0%87%E7%B4%A2%E5%BC%95%E3%80%82</a></p>

    
    </div>
    
    <div class="columns is-variable is-1 is-multiline is-mobile">
    
        <span class="column is-narrow"><a class="tag is-light article-tag" href="/tags/MySQL/">#MySQL</a></span>
    
        <span class="column is-narrow"><a class="tag is-light article-tag" href="/tags/SQL/">#SQL</a></span>
    
    </div>
    
    
    <div class="columns is-mobile is-multiline article-nav">
        <span class="column is-12-mobile is-half-desktop  article-nav-prev">
            
            <a href="/2021-Apr-5th-C-Cpp-Java/">从C++到Java —— C系列编程语言辨析总结</a>
            
        </span>
        <span class="column is-12-mobile is-half-desktop  article-nav-next">
            
            <a href="/2021-Mar-20th-Algorithm-Dynamic-programming/">数据结构与算法笔记 | 动态规划</a>
            
        </span>
    </div>
    
</article>


<div class="sharebox">
    
<div class="addthis_inline_share_toolbox"></div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6245c10135f53567"></script>

</div>



<div class="comments">
    <h3 class="title is-4">Comments</h3>
    
<div id="disqus_thread">
    
    <div class="notification is-danger">
        You forgot to set the <code>shortname</code> for Disqus. Please set it in <code>_config.yml</code>.
    </div>
    
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</div>

    </div>
</section>
    <footer class="footer">
    <div class="container">
        <div class="columns content">
            <div class="column is-narrow has-text-centered">
                &copy; 2025 Shane Wang&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a href="http://github.com/ppoffice/hexo-theme-minos">Minos</a>
            </div>
            <div class="column is-hidden-mobile"></div>

            
            <div class="column is-narrow">
                <div class="columns is-mobile is-multiline is-centered">
                
                    
                <a class="column is-narrow has-text-black" title="GitHub" href="https://github.com/ppoffice/hexo-theme-minos">
                    
                    GitHub
                    
                </a>
                
                </div>
            </div>
            
        </div>
    </div>
</footer>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8571410903510418" crossorigin="anonymous"></script>

    <!-- <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
<script src="/js/jquery.min.js"></script>
<!-- <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script> -->
<script src="/js/moment-with-locales.min.js"></script>

<!-- test if the browser is outdated -->
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<!-- <script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script> -->
<script src="/js/outdatedbrowser.min.js"></script>
<script>
    $(document).ready(function () {
        // plugin function, place inside DOM ready function
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        })
    });
</script>

<script>
    window.FontAwesomeConfig = {
        searchPseudoElements: true
    }
    moment.locale("en-AU");
</script>


    
    
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script> -->
<script src="/js/MathJax.js"></script>
<script>
    MathJax.Hub.Config({
        "HTML-CSS": {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
</script>


    
    
    
    
<!-- <script src="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/js/lightgallery-all.min.js"></script> -->
<script src="/js/lightgallery-all.min.js"></script>
<!-- <script src="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/js/jquery.justifiedGallery.min.js"></script> -->
<script src="/js/jquery.justifiedGallery.min.js"></script>
<script>
    (function ($) {
        $(document).ready(function () {
            if (typeof($.fn.lightGallery) === 'function') {
                $('.article.gallery').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof($.fn.justifiedGallery) === 'function') {
                $('.justified-gallery').justifiedGallery();
            }
        });
    })(jQuery);
</script>


    
    
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script> -->
    <script src="/js/clipboard.min.js"></script>
    <style>
        .hljs {
            position: relative;
        }

        .hljs .clipboard-btn {
            float: right;
            color: #9a9a9a;
            background: none;
            border: none;
            cursor: pointer;
        }

        .hljs .clipboard-btn:hover {
          color: #8a8a8a;
        }

        .hljs > .clipboard-btn {
            display: none;
            position: absolute;
            right: 4px;
            top: 4px;
        }

        .hljs:hover > .clipboard-btn {
            display: inline;
        }

        .hljs > figcaption > .clipboard-btn {
            margin-right: 4px;
        }
    </style>
    <script>
      $(document).ready(function () {
        $('figure.hljs').each(function(i, figure) {
          var codeId = 'code-' + i;
          var code = figure.querySelector('.code');
          var copyButton = $('<button>Copy <i class="far fa-clipboard"></i></button>');
          code.id = codeId;
          copyButton.addClass('clipboard-btn');
          copyButton.attr('data-clipboard-target-id', codeId);

          var figcaption = figure.querySelector('figcaption');

          if (figcaption) {
            figcaption.append(copyButton[0]);
          } else {
            figure.prepend(copyButton[0]);
          }
        })

        var clipboard = new ClipboardJS('.clipboard-btn', {
          target: function(trigger) {
            return document.getElementById(trigger.getAttribute('data-clipboard-target-id'));
          }
        });
        clipboard.on('success', function(e) {
          e.clearSelection();
        })
      })
    </script>


    
    

    


<script src="/js/script.js"></script>


    
    <div class="searchbox ins-search">
    <div class="searchbox-mask"></div>
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
    
</body>
</html>